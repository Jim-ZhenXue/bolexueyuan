{"version":3,"names":["_sfc_main","name","data","canvas","ctx","columns","drops","characters","animationInterval","mounted","initCanvas","startAnimation","beforeDestroy","clearInterval","methods","$refs","width","window","innerWidth","height","innerHeight","getContext","Math","floor","i","push","random","draw","fillStyle","fillRect","font","length","text","x","y","fillText","_this","setInterval","wx","createComponent","Component"],"sources":["DigitalRain.vue","DigitalRain.vue?type=component"],"sourcesContent":["<template>\n\t<canvas ref=\"canvas\" :style=\"{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%' }\"></canvas>\n</template>\n\n<script>\nexport default {\n\tname: 'DigitalRain',\n\tdata() {\n\t\treturn {\n\t\t\tcanvas: null,\n\t\t\tctx: null,\n\t\t\tcolumns: 0,\n\t\t\tdrops: [],\n\t\t\tcharacters: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],\n\t\t\tanimationInterval: null\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.initCanvas();\n\t\tthis.startAnimation();\n\t},\n\tbeforeDestroy() {\n\t\tif (this.animationInterval) {\n\t\t\tclearInterval(this.animationInterval);\n\t\t}\n\t},\n\tmethods: {\n\t\tinitCanvas() {\n\t\t\tthis.canvas = this.$refs.canvas;\n\t\t\tthis.canvas.width = window.innerWidth;\n\t\t\tthis.canvas.height = window.innerHeight;\n\t\t\tthis.ctx = this.canvas.getContext('2d');\n\t\t\t\n\t\t\tthis.columns = Math.floor(this.canvas.width / 20) + 1;\n\t\t\tthis.drops = [];\n\t\t\t\n\t\t\tfor (let i = 0; i < this.columns; i++) {\n\t\t\t\tthis.drops.push(Math.floor(Math.random() * this.canvas.height));\n\t\t\t}\n\t\t},\n\t\tdraw() {\n\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';\n\t\t\tthis.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\t\t\t\n\t\t\tthis.ctx.fillStyle = '#0f0';\n\t\t\tthis.ctx.font = '15pt monospace';\n\t\t\t\n\t\t\tfor (let i = 0; i < this.drops.length; i++) {\n\t\t\t\tconst text = this.characters[Math.floor(Math.random() * this.characters.length)];\n\t\t\t\tconst x = i * 20;\n\t\t\t\tconst y = this.drops[i] * 20;\n\t\t\t\t\n\t\t\t\tthis.ctx.fillText(text, x, y);\n\t\t\t\t\n\t\t\t\tif (y >= this.canvas.height && Math.random() > 0.975) {\n\t\t\t\t\tthis.drops[i] = 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.drops[i]++;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstartAnimation() {\n\t\t\tthis.animationInterval = setInterval(() => {\n\t\t\t\tthis.draw();\n\t\t\t}, 33); // 约30帧/秒\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\ncanvas {\n\tbackground-color: black;\n}</style>\n","import Component from '/Users/xz/Documents/HBuilderProjects/bolexueyuan/components/DigitalRain.vue'\nwx.createComponent(Component)"],"mappings":";;;;AAKA,IAAKA,SAAA,GAAU;EACdC,IAAA,EAAM;EACNC,IAAA,WAAAA,KAAA,EAAO;IACN,OAAO;MACNC,MAAA,EAAQ;MACRC,GAAA,EAAK;MACLC,OAAA,EAAS;MACTC,KAAA,EAAO,EAAE;MACTC,UAAA,EAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;MAC7DC,iBAAA,EAAmB;IACpB;EACA;EACDC,OAAA,WAAAA,QAAA,EAAU;IACT,KAAKC,UAAA,EAAU;IACf,KAAKC,cAAA,EAAc;EACnB;EACDC,aAAA,WAAAA,cAAA,EAAgB;IACf,IAAI,KAAKJ,iBAAA,EAAmB;MAC3BK,aAAA,CAAc,KAAKL,iBAAiB;IACrC;EACA;EACDM,OAAA,EAAS;IACRJ,UAAA,WAAAA,WAAA,EAAa;MACZ,KAAKP,MAAA,GAAS,KAAKY,KAAA,CAAMZ,MAAA;MACzB,KAAKA,MAAA,CAAOa,KAAA,GAAQC,MAAA,CAAOC,UAAA;MAC3B,KAAKf,MAAA,CAAOgB,MAAA,GAASF,MAAA,CAAOG,WAAA;MAC5B,KAAKhB,GAAA,GAAM,KAAKD,MAAA,CAAOkB,UAAA,CAAW,IAAI;MAEtC,KAAKhB,OAAA,GAAUiB,IAAA,CAAKC,KAAA,CAAM,KAAKpB,MAAA,CAAOa,KAAA,GAAQ,EAAE,IAAI;MACpD,KAAKV,KAAA,GAAQ;MAEb,SAASkB,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKnB,OAAA,EAASmB,CAAA,IAAK;QACtC,KAAKlB,KAAA,CAAMmB,IAAA,CAAKH,IAAA,CAAKC,KAAA,CAAMD,IAAA,CAAKI,MAAA,EAAM,GAAK,KAAKvB,MAAA,CAAOgB,MAAM,CAAC;MAC/D;IACA;IACDQ,IAAA,WAAAA,KAAA,EAAO;MACN,KAAKvB,GAAA,CAAIwB,SAAA,GAAY;MACrB,KAAKxB,GAAA,CAAIyB,QAAA,CAAS,GAAG,GAAG,KAAK1B,MAAA,CAAOa,KAAA,EAAO,KAAKb,MAAA,CAAOgB,MAAM;MAE7D,KAAKf,GAAA,CAAIwB,SAAA,GAAY;MACrB,KAAKxB,GAAA,CAAI0B,IAAA,GAAO;MAEhB,SAASN,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKlB,KAAA,CAAMyB,MAAA,EAAQP,CAAA,IAAK;QAC3C,IAAMQ,IAAA,GAAO,KAAKzB,UAAA,CAAWe,IAAA,CAAKC,KAAA,CAAMD,IAAA,CAAKI,MAAA,EAAS,GAAE,KAAKnB,UAAA,CAAWwB,MAAM,CAAC;QAC/E,IAAME,CAAA,GAAIT,CAAA,GAAI;QACd,IAAMU,CAAA,GAAI,KAAK5B,KAAA,CAAMkB,CAAC,IAAI;QAE1B,KAAKpB,GAAA,CAAI+B,QAAA,CAASH,IAAA,EAAMC,CAAA,EAAGC,CAAC;QAE5B,IAAIA,CAAA,IAAK,KAAK/B,MAAA,CAAOgB,MAAA,IAAUG,IAAA,CAAKI,MAAA,KAAW,OAAO;UACrD,KAAKpB,KAAA,CAAMkB,CAAC,IAAI;QAAA,OACV;UACN,KAAKlB,KAAA,CAAMkB,CAAC;QACb;MACD;IACA;IACDb,cAAA,WAAAA,eAAA,EAAiB;MAAA,IAAAyB,KAAA;MAChB,KAAK5B,iBAAA,GAAoB6B,WAAA,CAAY,YAAM;QAC1CD,KAAA,CAAKT,IAAA,EAAI;MACT,GAAE,EAAE;IACN;EACD;AACD;;;;;AClEAW,EAAA,CAAGC,eAAA,CAAgBC,SAAS","ignoreList":[]}